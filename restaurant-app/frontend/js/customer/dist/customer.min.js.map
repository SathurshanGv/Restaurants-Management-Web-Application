{"version":3,"sources":["customer.js"],"names":["openTab","evt","tabName","i","tabcontent","tablinks","className","getElementsByClassName","length","style","display","currentTarget","replace","document","addEventListener","tabLinks","querySelectorAll","toggleMenu","querySelector","classList","toggle","restaurantGrid","getElementById","searchBar","searchBtn","restaurantDetailsModal","restaurantNameEl","foodItemsEl","closeModalBtn","isLoggedIn","cartCountEl","window","location","href","name","imageUrl","rating","overview","address","hours","website","restaurantData","mapLocation","description","foodItems","price","phone","displayRestaurants","restaurants","innerHTML","forEach","restaurant","restaurantCard","createElement","add","concat","textContent","openRestaurantDetails","foodItemEl","appendChild","item","overviewTab","cart","reduce","acc","quantity","checkoutDetailsEl","total","groupedCart","restaurantHeader","cartItem","index","checkoutItemEl","toFixed","buttonEl","parentElement","src","body","flyingItem","rect","getBoundingClientRect","left","top","checkoutBtn","transform","checkoutRect","setTimeout","removeChild","existingCartItem","find","push","increaseQuantity","updateCart","decreaseQuantity","splice","checkIfLoggedIn","checkoutModal","alert","closeCheckoutBtn","query","toLowerCase","trim","searchRestaurantsAndFood","results","matchingItems","filter","_objectSpread","displaySearchResults","nextElementSibling"],"mappings":"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","file":"customer.min.js","sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\r\n    const restaurantGrid = document.getElementById(\"restaurant-grid\");\r\n    const searchBar = document.getElementById(\"searchBar\");\r\n    const searchBtn = document.getElementById(\"searchBtn\");\r\n    const restaurantDetailsModal = document.getElementById(\"restaurant-details\");\r\n    const restaurantNameEl = document.getElementById(\"restaurant-name\");\r\n    const foodItemsEl = document.getElementById(\"Menu\");\r\n    const cartEl = document.getElementById(\"cartContainer\");\r\n    const checkoutBtn = document.getElementById(\"fixedCheckoutBtn\");\r\n    const checkoutModal = document.getElementById(\"checkout-modal\");\r\n    const checkoutDetailsEl = document.getElementById(\"checkout-details\");\r\n    const closeModalBtn = document.querySelector(\".close-btn\");\r\n    const closeCheckoutBtn = document.querySelector(\".close-checkout-btn\");\r\n    const cartCountEl = document.getElementById(\"cartCount\");\r\n    let cart = [];\r\n    \r\n    let isLoggedIn = false; // Simulate the user's login status (replace with real login check)\r\n\r\n    // Function to check if the user is logged in\r\n    function checkIfLoggedIn() {\r\n        if (!isLoggedIn) {\r\n            alert(\"Please log in to complete the purchase.\");\r\n            window.location.href = \"authcustomer.html\"; // Redirect to login page\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    // Sample restaurant data with Overview and Menu details\r\n    let restaurantData = [\r\n        {\r\n            name: \"The Gourmet Kitchen\",\r\n            imageUrl: \"..//assets/images/img05.webp\",\r\n            rating: 4.8,\r\n            overview: {\r\n                address: \"45 Gourmet St, Colombo 00500\",\r\n                hours: \"Open ‚ãÖ Closes 10 PM\",\r\n                website: \"https://www.thegourmetkitchen.com\",\r\n                phone: \"077 555 9001\",\r\n                mapLocation: \"WV85+YA Colombo\",\r\n                description: \"The Gourmet Kitchen offers an exquisite fine dining experience with a focus on international cuisine.\"\r\n            },\r\n            foodItems: [\r\n                { name: \"Grilled Salmon\", description: \"Delicious wood-fired salmon.\", price: 15, imageUrl: \"..//assets/images/grilledsalmom01.webp\" },\r\n                { name: \"Caesar Salad\", description: \"Crisp romaine lettuce and Parmesan.\", price: 10, imageUrl: \"..//assets/images/caesarsalad.webp\" },\r\n                { name: \"Truffle Pasta\", description: \"Rich and creamy pasta.\", price: 18, imageUrl: \"..//assets/images/tofupasta.webp\" }\r\n            ]\r\n        },\r\n        {\r\n            name: \"Cafe Delights\",\r\n            imageUrl: \"..//assets/images/img06.webp\",\r\n            rating: 4.5,\r\n            overview: {\r\n                address: \"22 Delight Rd, Colombo 00400\",\r\n                hours: \"Open ‚ãÖ Closes 9 PM\",\r\n                website: \"https://www.cafedelights.com\",\r\n                phone: \"077 888 8002\",\r\n                mapLocation: \"WV85+XZ Colombo\",\r\n                description: \"Cafe Delights is your go-to place for a cozy atmosphere, great coffee, and freshly baked goods.\"\r\n            },\r\n            foodItems: [\r\n                { name: \"Espresso\", description: \"Strong and rich espresso made from premium Arabica beans.\", price: 3, imageUrl: \"..//assets/images/espresso.webp\" },\r\n                { name: \"Blueberry Muffin\", description: \"Soft and moist muffin bursting with fresh blueberries.\", price: 5, imageUrl: \"..//assets/images/blueberrymuffin.webp\" },\r\n                { name: \"Avocado Toast\", description: \"Toasted sourdough topped with smashed avocado.\", price: 8, imageUrl: \"..//assets/images/avacardotoast.webp\" }\r\n            ]\r\n        }\r\n    ];\r\n\r\n    // Function to display restaurants from the sample data\r\n    function displayRestaurants(restaurants) {\r\n        restaurantGrid.innerHTML = \"\";\r\n        restaurants.forEach((restaurant) => {\r\n            const restaurantCard = document.createElement(\"div\");\r\n            restaurantCard.classList.add(\"restaurant-card\");\r\n            restaurantCard.innerHTML = `\r\n                <img src=\"${restaurant.imageUrl}\" alt=\"${restaurant.name}\">\r\n                <h3>${restaurant.name}</h3>\r\n                <p class=\"rating\">Rating: ${restaurant.rating}</p>\r\n            `;\r\n            restaurantCard.addEventListener(\"click\", () => {\r\n                openRestaurantDetails(restaurant);\r\n            });\r\n            restaurantGrid.appendChild(restaurantCard);\r\n        });\r\n    }\r\n\r\n    // Function to open restaurant details in a modal with Overview and Menu\r\n    function openRestaurantDetails(restaurant) {\r\n        restaurantNameEl.textContent = restaurant.name;\r\n\r\n        // Populate Overview Tab\r\n        const overviewTab = document.getElementById('Overview');\r\n        overviewTab.innerHTML = `\r\n            <p>${restaurant.overview.description}</p>\r\n            <p>üìç ${restaurant.overview.address}</p>\r\n            <p>üïí ${restaurant.overview.hours}</p>\r\n            <p><a href=\"${restaurant.overview.website}\" target=\"_blank\">${restaurant.overview.website}</a></p>\r\n            <p>üìû ${restaurant.overview.phone}</p>\r\n            <p>üìç ${restaurant.overview.mapLocation}</p>\r\n        `;\r\n\r\n        // Populate Menu Tab\r\n        foodItemsEl.innerHTML = \"\";\r\n        restaurant.foodItems.forEach((item) => {\r\n            const foodItemEl = document.createElement(\"div\");\r\n            foodItemEl.classList.add(\"food-item\");\r\n            foodItemEl.innerHTML = `\r\n                <img src=\"${item.imageUrl}\" alt=\"${item.name}\">\r\n                <p><strong>${item.name}</strong><br>${item.description}<br>Price: $${item.price}</p>\r\n                <button class=\"add-to-cart-btn\" onclick=\"addToCart('${restaurant.name}', '${item.name}', ${item.price}, this)\">Add to Cart</button>\r\n            `;\r\n            foodItemsEl.appendChild(foodItemEl);\r\n        });\r\n\r\n        restaurantDetailsModal.style.display = \"block\";\r\n    }\r\n\r\n    // Add to cart function with throw effect\r\n    window.addToCart = function (restaurant, item, price, buttonEl) {\r\n        const flyingItem = document.createElement('div');\r\n        flyingItem.classList.add('flying-item');\r\n        flyingItem.innerHTML = `<img src=\"${buttonEl.parentElement.querySelector('img').src}\" alt=\"${item}\" width=\"50\" height=\"50\">`;\r\n        document.body.appendChild(flyingItem);\r\n\r\n        const rect = buttonEl.getBoundingClientRect();\r\n        flyingItem.style.left = `${rect.left}px`;\r\n        flyingItem.style.top = `${rect.top}px`;\r\n\r\n        const checkoutRect = checkoutBtn.getBoundingClientRect();\r\n\r\n        setTimeout(() => {\r\n            flyingItem.style.transform = `translate(${checkoutRect.left - rect.left}px, ${checkoutRect.top - rect.top}px) scale(0.2)`;\r\n            flyingItem.style.opacity = '0';\r\n        }, 50);\r\n\r\n        setTimeout(() => {\r\n            document.body.removeChild(flyingItem);\r\n        }, 750);\r\n\r\n        const existingCartItem = cart.find(\r\n            (cartItem) => cartItem.restaurant === restaurant && cartItem.item === item\r\n        );\r\n        if (existingCartItem) {\r\n            existingCartItem.quantity++;\r\n            existingCartItem.price += price;\r\n        } else {\r\n            cart.push({ restaurant, item, price, quantity: 1 });\r\n        }\r\n        updateCart();\r\n    };\r\n\r\n    // Update cart function\r\n    function updateCart() {\r\n        cartCountEl.textContent = cart.reduce(\r\n            (acc, item) => acc + item.quantity,\r\n            0\r\n        );\r\n        checkoutDetailsEl.innerHTML = \"\";\r\n        let total = 0;\r\n\r\n        const groupedCart = cart.reduce((acc, item) => {\r\n            if (!acc[item.restaurant]) {\r\n                acc[item.restaurant] = [];\r\n            }\r\n            acc[item.restaurant].push(item);\r\n            return acc;\r\n        }, {});\r\n\r\n        for (const restaurant in groupedCart) {\r\n            const restaurantHeader = document.createElement(\"h3\");\r\n            restaurantHeader.textContent = restaurant;\r\n            checkoutDetailsEl.appendChild(restaurantHeader);\r\n\r\n            groupedCart[restaurant].forEach((cartItem, index) => {\r\n                const checkoutItemEl = document.createElement(\"div\");\r\n                checkoutItemEl.classList.add(\"cart-item\");\r\n                checkoutItemEl.innerHTML = `\r\n                    <span>${cartItem.quantity} x ${cartItem.item} - $${cartItem.price.toFixed(2)}</span>\r\n                    <div class=\"quantity-controls\">\r\n                        <button onclick=\"decreaseQuantity(${index})\">-</button>\r\n                        <button onclick=\"increaseQuantity(${index})\">+</button>\r\n                    </div>\r\n                    <button onclick=\"removeFromCart(${index})\">Remove</button>\r\n                `;\r\n                checkoutDetailsEl.appendChild(checkoutItemEl);\r\n                total += cartItem.price;\r\n            });\r\n        }\r\n\r\n        checkoutDetailsEl.innerHTML += `<p>Total: $${total.toFixed(2)}</p>`;\r\n    }\r\n\r\n    window.increaseQuantity = function (index) {\r\n        cart[index].quantity++;\r\n        cart[index].price += cart[index].price / (cart[index].quantity - 1);\r\n        updateCart();\r\n    };\r\n\r\n    window.decreaseQuantity = function (index) {\r\n        if (cart[index].quantity > 1) {\r\n            cart[index].quantity--;\r\n            cart[index].price -= cart[index].price / (cart[index].quantity + 1);\r\n        } else {\r\n            cart.splice(index, 1); \r\n        }\r\n        updateCart();\r\n    };\r\n\r\n    window.removeFromCart = function (index) {\r\n        cart.splice(index, 1);\r\n        updateCart();\r\n    };\r\n\r\n    checkoutBtn.addEventListener(\"click\", () => {\r\n        if (cart.length === 0) {\r\n            alert(\"Your cart is empty!\");\r\n            return;\r\n        }\r\n        if (checkIfLoggedIn()) {\r\n            checkoutModal.style.display = \"block\";\r\n        }\r\n    });\r\n\r\n    document.getElementById(\"payBtn\").addEventListener(\"click\", () => {\r\n        if (checkIfLoggedIn()) {\r\n            alert(\"Payment successful!\");\r\n            cart = [];\r\n            updateCart();\r\n            checkoutModal.style.display = \"none\";\r\n            restaurantDetailsModal.style.display = \"none\";\r\n        }\r\n    });\r\n\r\n    closeModalBtn.addEventListener(\"click\", () => {\r\n        restaurantDetailsModal.style.display = \"none\";\r\n    });\r\n\r\n    closeCheckoutBtn.addEventListener(\"click\", () => {\r\n        checkoutModal.style.display = \"none\";\r\n    });\r\n\r\n    searchBtn.addEventListener(\"click\", () => {\r\n        const query = searchBar.value.toLowerCase().trim();\r\n        if (query) {\r\n            searchRestaurantsAndFood(query);\r\n        } else {\r\n            displayRestaurants(restaurantData);\r\n        }\r\n    });\r\n\r\n    function searchRestaurantsAndFood(query) {\r\n        const results = [];\r\n        restaurantData.forEach((restaurant) => {\r\n            if (restaurant.name.toLowerCase().includes(query)) {\r\n                results.push(restaurant);\r\n            } else {\r\n                const matchingItems = restaurant.foodItems.filter((item) =>\r\n                    item.name.toLowerCase().includes(query)\r\n                );\r\n                if (matchingItems.length > 0) {\r\n                    results.push({ ...restaurant, foodItems: matchingItems });\r\n                }\r\n            }\r\n        });\r\n        displaySearchResults(results);\r\n    }\r\n\r\n    function displaySearchResults(restaurants) {\r\n        restaurantGrid.innerHTML = \"\";\r\n        restaurants.forEach((restaurant) => {\r\n            const restaurantCard = document.createElement(\"div\");\r\n            restaurantCard.classList.add(\"restaurant-card\");\r\n            restaurantCard.innerHTML = `\r\n                <img src=\"${restaurant.imageUrl}\" alt=\"${restaurant.name}\">\r\n                <h3>${restaurant.name}</h3>\r\n                <p class=\"rating\">Rating: ${restaurant.rating}</p>\r\n            `;\r\n\r\n            restaurant.foodItems.forEach((item) => {\r\n                const foodItemEl = document.createElement(\"div\");\r\n                foodItemEl.classList.add(\"food-item\");\r\n                foodItemEl.innerHTML = `\r\n                    <img src=\"${item.imageUrl}\" alt=\"${item.name}\">\r\n                    <p>${item.name} - $${item.price}</p>\r\n                    <button class=\"add-to-cart-btn\" onclick=\"addToCart('${restaurant.name}', '${item.name}', ${item.price}, this)\">Add to Cart</button>\r\n                `;\r\n                restaurantCard.appendChild(foodItemEl);\r\n            });\r\n\r\n            restaurantGrid.appendChild(restaurantCard);\r\n        });\r\n    }\r\n\r\n    // Initial call to display the sample restaurants\r\n    displayRestaurants(restaurantData);\r\n\r\n    // Mobile menu toggle\r\n    document.getElementById('menu-toggle').addEventListener('click', function() {\r\n        var mobileMenu = document.getElementById('mobile-menu');\r\n        mobileMenu.classList.toggle('show');\r\n    });\r\n\r\n    // Dropdown toggle in mobile view\r\n    const dropdownToggles = document.querySelectorAll('.dropdown-toggle');\r\n    dropdownToggles.forEach(function(toggle) {\r\n        toggle.addEventListener('click', function() {\r\n            const dropdownMenu = this.nextElementSibling;\r\n            dropdownMenu.classList.toggle('show');\r\n        });\r\n    });\r\n});\r\n\r\n// Tab switching functionality\r\nfunction openTab(evt, tabName) {\r\n    var i, tabcontent, tablinks;\r\n    tabcontent = document.getElementsByClassName(\"tabcontent\");\r\n    for (i = 0; i < tabcontent.length; i++) {\r\n        tabcontent[i].style.display = \"none\";\r\n    }\r\n    tablinks = document.getElementsByClassName(\"tablinks\");\r\n    for (i = 0; i < tablinks.length; i++) {\r\n        tablinks[i].className = tablinks[i].className.replace(\" active\", \"\");\r\n    }\r\n    document.getElementById(tabName).style.display = \"block\";\r\n    evt.currentTarget.className += \" active\";\r\n}\r\n\r\n// Set default tab to open when modal is shown\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n    const tabLinks = document.querySelectorAll(\".tablinks\");\r\n    tabLinks[0].click();\r\n});\r\n\r\nfunction toggleMenu() {\r\n    const navLinks = document.querySelector('.nav-links');\r\n    navLinks.classList.toggle('active');\r\n}\r\n"]}